<%- model_class = Service -%>
<div class="page-header">
  <h3><b><%=t '.title', :default => 'VER SERVICIO'%></b></h3>
</div>
<%= form_for @service, :html => { :class => "form-horizontal service" } do |f| %>

    <% if @service.errors.any? %>
    <div id="error_expl" class="panel panel-danger">
      <div class="panel-heading">
        <h3 class="panel-title"><%= pluralize(@service.errors.count, "error") %> prohibited this service from being saved:</h3>
      </div>
      <div class="panel-body">
        <ul>
        <% @service.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
        </ul>
      </div>
    </div>
  <% end %>

<div class="col-md-6">
  <div class="control-group">
    <%= f.label :"Nombre", :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :name, :class => 'form-control', :readonly => 'readonly' %>
    </div>
    <%= error_span(@service[:name]) %>
  </div>
</div>

<div class="col-md-6">
  <div class="control-group">
    <%= f.label :"Precio", :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :price, :class => 'form-control', :readonly => 'readonly' %>
    </div>
    <%= error_span(@service[:price]) %>
  </div>
</div>

<div class="col-md-12">
  <div class="control-group">
    <%= f.label :"Observación", :class => 'control-label' %>
    <div class="controls">
      <%= f.text_area :observation, :class => 'form-control', :readonly => 'readonly' %>
    </div>
    <%= error_span(@service[:observation]) %>
  </div>
</div>

<!-- ############################### -->
<div class="row">&nbsp;</div>
<div class="row">&nbsp;</div>


<div class="col-md-12">
  <div class="panel panel-primary">
    <div class="panel-heading">
      <strong>PRODUCTOS</strong>
    </div>
    
    <div class="panel-body">
      <div class="col-md-12">
        <div class="row">
        <div class="col-md-4">
                <div class="control-group">
                  <%= f.label :"Producto", :class => 'control-label' %>
                <div class="controls">
                  <%= f.select (:product_id, @products {:include_blank => "(Seleccione)"}, {:class => 'form-control'}) %>
                </div>
                </div>
        </div>

<div class="col-md-4">
        <div class="control-group">
          <label>&nbsp;</label>
        <div class="controls">
          <a href="javascript:cargar( '#' );" class="btn btn-primary" title="Agregar Producto">
          <i class="fa fa-plus"></i>&nbsp; Agregar Producto</a>
        </div>
        </div>
</div>
</div>
</div>

<div class="row">&nbsp;</div>
<div class="row">&nbsp;</div>

<div class="row">
<div class="col-md-12">
  <table class="table table-striped table-bordered table-hover"  style="padding-left: 20">
    <thead>
      <tr>
        <th style="text-align: center">C&oacute;digo Producto</th>
        <th style="text-align: center">Nombre</th>
        <th style="text-align: center">Quitar</th>
      </tr>
    </thead>
    <tbody>
      <% @service_details.each do |service_detail| %>
        <tr>
          <td align="center"><b><%= product.id%></b></td>
          <td><%= service_detail.product_name %></td>
          <td align="center">
            <%= link_to "<i class='fa fa-minus-circle'></i>".html_safe,
                        service_detail_path(service_detail),
                        :method => :delete,
                        :data => { :confirm => t('.confirm', :default => t("helpers.links.quitar", :default => '¿Está seguro de eliminar?')) } %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
</div>
</div>
</div>
</div>
<!-- ############################### -->

<div class="row">&nbsp;</div>
<div class="row">&nbsp;</div>

<div class="col-md-6 col-md-offset-4">
<%= link_to t('.back', :default => t("helpers.submit.back")),
              services_path, :class => 'btn btn-primary'  %>
<%= link_to t('.edit', :default => t("helpers.submit.edit")),
              edit_service_path(@service), :class => 'btn btn-primary' %>
<%= link_to t('.destroy', :default => t("helpers.submit.destroy")),
              service_path(@service),
              :method => 'delete',
              :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => '¿Está seguro de eliminar?')) },
              :class => 'btn btn-primary' %>
</div>
  
<% end %>